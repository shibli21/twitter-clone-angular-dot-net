<div class="w-full">
  <div class="p-4 md:p-8 border rounded-md overflow-hidden">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-xl font-bold leading-none text-gray-900">
        Notifications
      </h3>
    </div>
    <div class="w-full" *ngIf="paginatedNotifications">
      <ul
        class="space-y-1 divide-gray-200"
        infinite-scroll
        (scrolled)="loadMore()"
        [fromRoot]="true"
        [immediateCheck]="true"
      >
        <li
          *ngFor="let notification of paginatedNotifications.notifications"
          class="cursor-pointer rounded-md hover:bg-indigo-50 p-3 sm:p-4 border"
          [ngClass]="!notification.isRead ? 'bg-gray-100' : 'bg-white'"
          (click)="markAsRead(notification)"
        >
          <div class="flex items-center space-x-4">
            <div class="flex-shrink-0">
              <i
                [ngClass]="
                  'pi pi-' + getNotificationTypeIcon(notification.type)
                "
              ></i>
            </div>
            <div class="flex-1 min-w-0">
              <p class="">
                {{ notification.message }}
              </p>
            </div>
          </div>
        </li>
      </ul>
      <div *ngIf="isLoading" class="py-10 flex justify-center">
        <app-spinner></app-spinner>
      </div>

      <p
        class="text-center py-10 font-semibold"
        *ngIf="
          paginatedNotifications.page === paginatedNotifications.totalPages &&
          !isLoading
        "
      >
        No more notification to show
      </p>
    </div>
  </div>
</div>
