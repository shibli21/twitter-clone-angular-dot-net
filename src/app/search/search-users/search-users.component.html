<div
  class="p-4 border rounded-md overflow-hidden"
  *ngIf="searchQuery.length === 0"
>
  <h3 class="text-xl font-bold leading-none text-gray-900">
    Please enter a search query
  </h3>
</div>

<div *ngIf="searchedUsers && searchQuery">
  <div class="w-full mb-2">
    <div class="p-4 border rounded-md overflow-hidden">
      <div class="flex justify-between items-center">
        <h3 class="text-xl font-bold leading-none text-gray-900">
          Search results for {{ searchQuery }}
        </h3>
      </div>
    </div>
  </div>

  <div
    infinite-scroll
    (scrolled)="loadMore()"
    [immediateCheck]="true"
    class="w-full space-y-2"
  >
    <div *ngFor="let user of searchedUsers.users">
      <div
        class="p-4 border rounded-md hover:bg-indigo-50 cursor-pointer transition"
        [routerLink]="['/profile', user.id]"
      >
        <div class="flex w-full">
          <img
            class="w-10 h-10 object-cover rounded-full"
            [src]="
              user.profilePictureUrl
                ? user.profilePictureUrl
                : 'https://avatars.dicebear.com/api/open-peeps/' +
                  user.userName +
                  '.svg'
            "
            alt="Neil image"
          />
          <div class="px-4" style="width: calc(100% - 2.5rem - 100px)">
            <p class="text-sm font-medium text-gray-900 truncate">
              {{ user.firstName }} {{ user.lastName }}
            </p>
            <p class="text-sm truncate text-gray-500">{{ user.email }}</p>
          </div>
          <div class="w-[100px]">
            <button
              class="p-button-sm"
              pButton
              [label]="user.isFollowed ? 'Following' : 'Follow'"
            ></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
